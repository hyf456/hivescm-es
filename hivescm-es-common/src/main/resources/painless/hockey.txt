{
    "hockey": {
        "aliases": {},
        "mappings": {
            "_default_": {
                "_all": {
                    "enabled": false
                },
                "dynamic_templates": [
                    {
                        "strings": {
                            "match_mapping_type": "string",
                            "mapping": {
                                "type": "keyword"
                            }
                        }
                    }
                ]
            },
            "player": {
                "_all": {
                    "enabled": false
                },
                "dynamic_templates": [
                    {
                        "strings": {
                            "match_mapping_type": "string",
                            "mapping": {
                                "type": "keyword"
                            }
                        }
                    }
                ],
                "properties": {
                    "array": {
                        "type": "long"
                    },
                    "date": {
                        "type": "long"
                    },
                    "last": {
                        "type": "keyword"
                    },
                    "name": {
                        "type": "keyword"
                    },
                    "testnested": {
                        "type": "nested",
                        "properties": {
                            "id": {
                                "type": "long"
                            }
                        }
                    },
                    "tweet": {
                        "type": "keyword"
                    },
                    "user_id": {
                        "type": "long"
                    }
                }
            }
        },
        "settings": {
            "index": {
                "creation_date": "1509455525142",
                "number_of_shards": "2",
                "number_of_replicas": "1",
                "uuid": "OayNYrliRfGmRI4Ex0QZMw",
                "version": {
                    "created": "5050299"
                },
                "provided_name": "hockey"
            }
        }
    }
}

集合中添加一个数据    成功
curl -XPOST '192.168.177.142:9200/hockey/player/b5ff20bfaa22d747c1e2442281c57978/_update?pretty' -d'
{
    "script" : {
        "inline": "ctx._source.array.add(params.tag)",
        "lang": "painless",
        "params" : {
            "tag" : "8"
        }
    }
}'


//在集合中添加数据成功
curl -XPOST '192.168.177.142:9200/hockey/player/b5ff20bfaa22d747c1e2442281c57978/_update?pretty' -d'
{
    "script" : {
        "inline": "ctx._source.testnested.add(params.tag)",
        "lang": "painless",
        "params" : {
            "tag" : {"id":33}
        }
    }
}'

在数字后面累加数值
curl -XPOST '192.168.177.142:9200/hockey/player/b5ff20bfaa22d747c1e2442281c57978/_update?pretty' -d'
{
   "script" : {
        "inline": "ctx._source.user_id += params.count",
        "lang": "painless",
        "params" : {
            "count" : 4
        }
    }
}
'
在索引中添加一个字段
POST hockey/player/b5ff20bfaa22d747c1e2442281c57978/_update
{
    "script" : "ctx._source.new_field = 'value_of_new_field'"
}













